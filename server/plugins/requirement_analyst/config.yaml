system_prompt: |
  你是一个资深的系统架构师和产品经理。你的任务是分析用户的需求文档（Markdown格式），并生成两份专业的文档：
  1. 致客户/管理层 ——《项目需求规格说明书与实施方案》
  2. 致开发人员 ——《系统开发综合指导手册》

doc1_prompt: |
  请根据以下需求分析内容，生成《项目需求规格说明书与实施方案》。
  
  **核心目标**：明确范围，展示专业性，确认排期，作为验收依据。不要包含过于晦涩的代码实现细节。
  
  **文档结构要求**（请严格按照Markdown格式输出，使用一级标题 #, 二级标题 ## 等）：
  
  # 项目需求规格说明书与实施方案
  
  ## 1. 项目概述 (Project Overview)
  - **项目背景**：为什么要做这个项目？解决什么商业痛点？
  - **建设目标**：项目上线后预期达到的效果（如：支持10万并发、提升效率50%）。
  
  ## 2. 需求范围 (Scope of Work)
  - **功能列表 (Feature List)**：请以表格形式列出核心功能模块（一级、二级模块）。
  - **非功能需求**：性能要求、安全性、浏览器兼容性等。
  - **不包含范围 (Out of Scope)**：（非常重要）明确说明哪些不做，防止需求蔓延。
  
  ## 3. 总体架构设计 (High-Level Architecture)
  *注意：给客户看架构是为了证明系统的稳定性、安全性和扩展性。*
  - **逻辑架构图**：描述系统分层（前端、后台、数据层），模块间的关系。（可以用文字描述图的内容，或者Mermaid代码）
  - **技术选型说明**：简要说明使用的技术（如：“使用Java保证企业级稳定性”，“使用Vue保证交互流畅”），无需列出具体库的版本。
  - **部署架构图**：云服务器、负载均衡、备份策略（展示数据的安全性）。
  - 如需 Mermaid 图：必须放在 ```mermaid 代码块内；节点/参与者 ID 只能用英文/数字/下划线，中文只能放在标签里（如 A[下载申请]、B("推送审批")）。
  
  ## 4. 项目计划与里程碑 (Project Plan)
  - **主要里程碑 (Milestones)**：立项 -> UI确认 -> 开发完成 -> 测试验收 -> 上线。
  - **交付时间表**：明确每个阶段的预计交付日期（可以使用相对时间，如 T+1周）。
  
  ## 5. 工作量与报价 (Effort & Budget)
  - **工时汇总**：基于详细WBS汇总出的“人天”数（只看模块级汇总）。
  - **资源需求**：需要客户提供的配合（如：服务器账号、第三方接口权限、确认UI的时间）。

doc2_prompt: |
  请根据以下需求分析内容，生成《系统开发综合指导手册》。
  
  **核心目标**：指导落地，统一标准，任务分配。
  
  **文档结构要求**（请严格按照Markdown格式输出）：
  
  # 系统开发综合指导手册
  
  ## 第一部分：产品需求文档 (PRD & UI)
  ### 1. 全局交互规范
  - 异常处理机制（断网、报错提示）。
  - 全局样式、弹窗规范。
  
  ### 2. 详细功能逻辑
  - **流程图 (Flowchart)**：业务流转逻辑（如订单状态流转）。(请使用 Mermaid 代码表示)
    - Mermaid 必须放在 ```mermaid 代码块内。
    - 节点/参与者 ID 只能用英文/数字/下划线；中文只能放在节点标签里（如 A[点击申请]）。
    - 连线文字请使用合法写法：`A -->|中文说明| B`。
  - **字段定义**：每个输入框的长度限制、类型、必填项校验。
  - **UI原型/高保真图**：(此处标注：需参考Figma/蓝湖链接，并标注交互说明)
  
  ## 第二部分：详细架构与技术方案 (Technical Specification)
  ### 1. 技术栈详细清单
  - 版本号锁定（如：Spring Boot 3.2, React 18, Python 3.10+）。
  - 依赖库及中间件（Redis, RabbitMQ, Elasticsearch等）。
  
  ### 2. 数据库设计 (Database Design)
  - **ER图 (Entity-Relationship Diagram)**：展示表与表的关系。(请使用 Mermaid 代码表示)
  - **数据字典**：具体的表结构（Table Schema），包含字段名、类型、索引、主键。
  
  ### 3. API 接口规范
  - 接口协议（HTTP/HTTPS, JSON格式）。
  - 统一的响应结构（Code, Message, Data）。
  - 鉴权机制（JWT / OAuth2）。
  
  ### 4. 工程结构与规范
  - 代码目录结构命名。
  - Git 分支管理策略（GitFlow）。
  
  ## 第三部分：WBS与进度执行 (Execution Plan)
  ### 1. WBS 工时估算表
  (请生成一个Markdown表格)
  | 模块 | 子任务 | 前置任务 | 后端负责人 | 前端负责人 | 预估工时(h) | 开始时间 | 截止时间 | 风险备注 |
  |---|---|---|---|---|---|---|---|---|
  | ... | ... | ... | ... | ... | ... | ... | ... | ... |
  *建议拆解粒度：2-8小时为一个任务单位。*
  
  ### 2. 项目进度计划 (Gantt Chart)
  - (请使用 Mermaid Gantt 代码表示)
  - 明确“联调时间点”和“提测时间点”。
  - 输出必须是可渲染的 Mermaid 语法，严格放在 ```mermaid 代码块内。
  - 请使用下面的结构示例（根据本项目内容替换任务与日期，不要照抄占位内容）：
  
  ```mermaid
  gantt
      title 项目进度计划
      dateFormat  YYYY-MM-DD
      axisFormat  %m/%d
      excludes    weekends
  
      section 需求阶段
      需求分析            :a1, 2025-01-01, 5d
      原型/交互确认        :a2, after a1, 5d
  
      section 开发阶段
      后端开发            :b1, after a2, 10d
      前端开发            :b2, after a2, 10d
      联调                :milestone, m1, after b1, 1d
  
      section 测试与上线
      提测                :milestone, m2, after m1, 1d
      测试修复            :c1, after m2, 5d
      上线                :milestone, m3, after c1, 1d
  ```
